@model NAKHLA.ViewModels.CartVM

<div class="container">
    <div class="basket-section">
        <h1>Basket</h1>

        <div class="cart-table">
            <div class="cart-header">
                <div></div>
                <div>PRODUCT</div>
                <div>PRICE</div>
                <div>QUANTITY</div>
                <div>SUBTOTAL</div>
                <div></div>
            </div>

            <div class="cart-item">
                <img src="https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=100&h=100&fit=crop" alt="Georgette Floreale" class="product-image">
                <div>
                    <a href="#" class="product-name">Georgette Floreale ST000698</a>
                </div>
                <div>€ 45,10 / m</div>
                <div class="quantity-control">
                    <button class="qty-btn" onclick="updateQty(-1)">-</button>
                    <input type="text" class="qty-input" value="0" id="qty-input">
                    <span>m</span>
                    <button class="qty-btn" onclick="updateQty(1)">+</button>
                </div>
                <div>€ 22,55</div>
                <button class="remove-btn" onclick="removeItem()">×</button>
            </div>
        </div>

        <div class="coupon-section">
            <input type="text" class="coupon-input" placeholder="Coupon code">
            <button class="apply-btn">Apply</button>
        </div>

        <button class="update-basket-btn">UPDATE BASKET</button>

        <div class="recommendations">
            <h2>You may also be interested in...</h2>
            <p>Plain fabrics matching the ones you have in your cart:</p>

            <div class="product-grid">
                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=400&h=300&fit=crop" alt="Crêpe Satin">
                    <div class="product-info">
                        <div class="product-title">Crêpe Satin 000672</div>
                        <div class="product-price">
                            <span class="price">€ 49,50</span>
                            <span class="stock">-</span>
                        </div>
                    </div>
                </div>

                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1558769132-cb1aea8f2128?w=400&h=300&fit=crop" alt="Silk Satin Stretch">
                    <div class="product-info">
                        <div class="product-title">Silk Satin Stretch 020757</div>
                        <div class="product-price">
                            <span class="price">€ 37,45</span>
                            <span class="stock">84.5 m</span>
                        </div>
                    </div>
                </div>

                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1560155477-4b78cf6889b0?w=400&h=300&fit=crop" alt="Crêpe de Chine">
                    <div class="product-info">
                        <div class="product-title">Crêpe de Chine 000672</div>
                        <div class="product-price">
                            <span class="price">€ 44,70</span>
                            <span class="stock">236.25 m</span>
                        </div>
                    </div>
                </div>

                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1560769629-975ec94e6a86?w=400&h=300&fit=crop" alt="Drap">
                    <div class="product-info">
                        <div class="product-title">Drap 000672</div>
                        <div class="product-price">
                            <span class="price">€ 84,50</span>
                            <span class="stock">7 m</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="carousel-nav">
                <span class="carousel-dot active"></span>
                <span class="carousel-dot"></span>
            </div>

            <h3 class="section-title">Fabrics on sale:</h3>

            <div class="product-grid">
                <div class="product-card">
                    <div class="sale-badge">ON SALE</div>
                    <img src="https://images.unsplash.com/photo-1603217039863-aa43d8a8f298?w=400&h=300&fit=crop" alt="Fabric on sale">
                    <div class="product-info">
                        <div class="product-title">Premium Fabric</div>
                        <div class="product-price">
                            <span class="price">€ 29,90</span>
                        </div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="sale-badge">ON SALE</div>
                    <img src="https://images.unsplash.com/photo-1560155477-4b78cf6889b0?w=400&h=300&fit=crop" alt="Fabric on sale">
                    <div class="product-info">
                        <div class="product-title">Luxury Satin</div>
                        <div class="product-price">
                            <span class="price">€ 34,50</span>
                        </div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="sale-badge">ON SALE</div>
                    <img src="https://images.unsplash.com/photo-1560769629-975ec94e6a86?w=400&h=300&fit=crop" alt="Fabric on sale">
                    <div class="product-info">
                        <div class="product-title">Elegant Silk</div>
                        <div class="product-price">
                            <span class="price">€ 39,90</span>
                        </div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="sale-badge">ON SALE</div>
                    <img src="https://images.unsplash.com/photo-1558769132-cb1aea8f2128?w=400&h=300&fit=crop" alt="Fabric on sale">
                    <div class="product-info">
                        <div class="product-title">Designer Fabric</div>
                        <div class="product-price">
                            <span class="price">€ 27,50</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="totals-section">
        <h2>Basket Totals</h2>

        <div class="total-row subtotal">
            <span>SUBTOTAL</span>
            <span>€ 22,55</span>
        </div>

        <div class="shipping-info">
            <div class="shipping-label">
                SHIPPING
                <span class="shipping-price">€ 35,00</span>
            </div>
            <div class="shipping-address">
                Shipping to <strong>848 Oak Road, Animi exercitatione, Dolore ut cupidatat harum, Egypt, 86462, French Polynesia.</strong>
                <br>
                <a href="#" class="change-address">Change address</a>
            </div>
        </div>

        <div class="total-row">
            <span>CUSTOMS DUTIES AND TAXES</span>
            <span>€ 2,26</span>
        </div>

        <div class="total-row final">
            <span>TOTAL</span>
            <div>
                <div>€ 59,81</div>
                <div class="usd-estimate">about US $73.57</div>
            </div>
        </div>

        <button class="checkout-btn">PROCEED TO CHECKOUT</button>

        <div class="paypal-info">
            Paga in 3 rate da 19,94€ senza interessi con PayPal.<br>
            TAEG 0%. <a href="#" style="color: #e91e63;">Scopri di più</a>
        </div>

        <div class="continue-shopping">
            OR<br><br>
            <a href="#">CONTINUE SHOPPING</a>
        </div>
    </div>
</div>

<script>
    function updateQty(change) {
        const input = document.getElementById('qty-input');
        let value = parseFloat(input.value) || 0;
        value = Math.max(0, value + change);
        input.value = value;
    }

    function removeItem() {
        if (confirm('Remove this item from cart?')) {
            alert('Item removed!');
        }
    }

    // Carousel functionality
    const dots = document.querySelectorAll('.carousel-dot');
    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
            dots.forEach(d => d.classList.remove('active'));
            dot.classList.add('active');
        });
    });
</script>