@model CartVM

<section class="cart-page">

    <div class="cart-container">

        <!-- LEFT -->
        <div class="cart-left">
            <h1 class="cart-title">Basket</h1>

            <div class="cart-header">
                <span>PRODUCT</span>
                <span>PRICE</span>
                <span>QUANTITY</span>
                <span>SUBTOTAL</span>
            </div>

            @foreach (var item in Model.CartItems)
            {
                <div class="cart-item">
                    <a asp-action="DeleteProduct" asp-route-productId="@item.ProductId" class="remove">×</a>

                    <div class="product">
                        <img src="~/images/@item.Product.MainImage" />
                        <div>
                            <a href="#">@item.Product.Name</a>
                        </div>
                    </div>

                    <div class="price">
                        € @item.Price
                    </div>

                    <div class="quantity">
                        <a asp-action="DecrementProduct" asp-route-productId="@item.ProductId">-</a>
                        <span>@item.Count</span>
                        <a asp-action="IncrementProduct" asp-route-productId="@item.ProductId">+</a>
                    </div>

                    <div class="subtotal">
                        € @(item.Price* item.Count)
                    </div>
                </div>
            }

            <div class="cart-actions">
                <form method="get">
                    <input type="text" name="code" placeholder="Coupon code" />
                    <button type="submit">APPLY</button>
                </form>
            </div>
        </div>

        <!-- RIGHT -->
        <div class="cart-right">
            <h3>Basket totals</h3>

            <div class="totals-row">
                <span>Subtotal</span>
                <span>€ @Model.Subtotal</span>
            </div>

            @if (Model.Discount > 0)
            {
                <div class="totals-row discount">
                    <span>Discount</span>
                    <span>- € @Model.Discount</span>
                </div>
            }

            <div class="totals-row total">
                <span>Total</span>
                <span>€ @Model.Total</span>
            </div>

            <a asp-action="Pay" class="checkout-btn">
                PROCEED TO CHECKOUT
            </a>

            <a asp-controller="Home" asp-action="Index" class="continue">
                CONTINUE SHOPPING
            </a>
        </div>

    </div>

    <!-- SUGGESTED -->
    <div class="suggested">
        <h2>You may be also interested in…</h2>

        <div class="suggested-list">
            @foreach (var product in Model.SuggestedProducts)
            {
                <div class="suggested-item">
                    <img src="~/images/@product.MainImage" />
                    <h4>@product.Name</h4>
                    <span>€ @product.Price</span>
                </div>
            }
        </div>
    </div>

</section>
