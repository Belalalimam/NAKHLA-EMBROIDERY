@* @model NAKHLA.Models.Brand
@{
    ViewBag.Title = "Create Brand";
    ViewBag.PageTitle = "Add New Brand";
    ViewBag.Subtitle = "Create a new product brand";
}

<!-- Debug Information (Remove after testing) -->
<div class="alert alert-info">
    <h5>Debug Info:</h5>
    <p>ModelState.IsValid: @ViewData.ModelState.IsValid</p>
    <p>ModelState Errors: @ViewData.ModelState.ErrorCount</p>
    <p>Model: @Model?.Name</p>
</div>

<!-- Back button -->
<div class="mb-4">
    <a href="/admin/brands" class="btn btn-secondary">
        <i class="fas fa-arrow-left"></i> Back to Brands
    </a>
</div>

<!-- Form Container -->
<div class="card">
    <div class="card-header">
        <h4>Brand Information</h4>
    </div>
    <div class="card-body">

        <form method="post">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <input type="text" placeholder="Name" name="Name" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <select name="Status">
                        <option value="Active">Active</option>
                        <option value="P">P</option>
                        <option value="InActive">InActive</option>
                    </select>
                </div>
            </div>


            <div class="form-group mb-3">
                <input type="text" placeholder="Description" name="Description" />

            </div>

            <div class="form-group mb-3">
                <input type="text" placeholder="Website" name="Website" />

            </div>

            <div class="form-group mb-3">
                <input type="text" placeholder="Website" name="Website" />

            </div>

            <div class="form-check mb-4">
                <input type="checkbox" name="IsFeatured" />

            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Save Brand
                </button>
                <a href="/admin/brands" class="btn btn-secondary">Cancel</a>
            </div>

        </form>
    </div>
</div>
 *@




@model NAKHLA.Models.Brand
@{
    ViewBag.Title = "Create Brand";
    ViewBag.PageTitle = "Add New Brand";
    ViewBag.Subtitle = "Create a new product brand";
}

<!-- Debug Information -->
<div class="alert alert-info">
    <h5>Debug Info:</h5>
    <p>ModelState.IsValid: @ViewData.ModelState.IsValid</p>
    <p>ModelState Errors: @ViewData.ModelState.ErrorCount</p>

    <!-- Display ALL validation errors -->
    @if (!ViewData.ModelState.IsValid)
    {
        <div class="mt-3">
            <h6>Validation Errors:</h6>
            <ul class="mb-0">
                @foreach (var key in ViewData.ModelState.Keys)
                {
                    foreach (var error in ViewData.ModelState[key].Errors)
                    {
                        <li><strong>@key:</strong> @error.ErrorMessage</li>
                    }
                }
            </ul>
        </div>
    }
</div>

<!-- Back button -->
<div class="mb-4">
    <a href="/admin/brands" class="btn btn-secondary">
        <i class="fas fa-arrow-left"></i> Back to Brands
    </a>
</div>

<!-- Form Container -->
<div class="card">
    <div class="card-header">
        <h4>Brand Information</h4>
    </div>
    <div class="card-body">
        @using (Html.BeginForm("Create", "Brands", FormMethod.Post, new { id = "createBrandForm" }))
        {
            @Html.AntiForgeryToken()

            <!-- This will show validation summary -->
            @Html.ValidationSummary(true, "", new { @class = "alert alert-danger" })

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        @Html.LabelFor(model => model.Name, new { @class = "form-label" })
                        @Html.TextBoxFor(model => model.Name, new {
                        @class = "form-control",
                                        placeholder = "Enter brand name",
                                        autofocus = "autofocus"
                                        })
                    @Html.ValidationMessageFor(model => model.Name, null, new { @class = "text-danger" })
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    @Html.LabelFor(model => model.Status, new { @class = "form-label" })
                    @Html.DropDownListFor(model => model.Status,
                                        new SelectList(new[] { "Active", "Inactive", "Pending" }),
                                        "Select Status",
                                        new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Status, null, new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(model => model.Description, new { @class = "form-label" })
            @Html.TextAreaFor(model => model.Description, new {
                        @class = "form-control",
                        rows = "3",
                        placeholder = "Enter brand description (optional)"
                        })
            @Html.ValidationMessageFor(model => model.Description, null, new { @class = "text-danger" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(model => model.Website, new { @class = "form-label" })
            @Html.TextBoxFor(model => model.Website, new {
                        @class = "form-control",
                        placeholder = "https://example.com"
                        })
            @Html.ValidationMessageFor(model => model.Website, null, new { @class = "text-danger" })
        </div>

        <div class="form-check mb-4">
            @Html.CheckBoxFor(model => model.IsFeatured, new { @class = "form-check-input" })
            @Html.LabelFor(model => model.IsFeatured, "Featured Brand", new { @class = "form-check-label" })
            <small class="text-muted d-block">Featured brands will be highlighted on the homepage</small>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Save Brand
            </button>
            <a href="/admin/brands" class="btn btn-secondary">Cancel</a>
        </div>
                }
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Simple form submission feedback
            $('#createBrandForm').on('submit', function() {
                const submitBtn = $(this).find('button[type="submit"]');
                submitBtn.html('<i class="fas fa-spinner fa-spin"></i> Saving...');
                submitBtn.prop('disabled', true);
            });
        });
    </script>
}