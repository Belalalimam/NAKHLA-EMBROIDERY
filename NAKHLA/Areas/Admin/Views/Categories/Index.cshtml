@{
    ViewBag.Title = "Category Management";
    ViewBag.PageTitle = "Categories";
    ViewBag.Subtitle = "Manage product categories";
}

<!-- Selection Actions Bar -->
<div class="selection-actions" id="selectionActions">
    <div class="selected-count">
        <span id="selectedCount">0</span> categories selected
    </div>
    <div class="selection-buttons">
        <button class="btn btn-secondary" onclick="exportSelected()">
            <i class="fas fa-file-export"></i> Export
        </button>
        <button class="btn btn-danger" onclick="deleteSelected()">
            <i class="fas fa-trash"></i> Delete
        </button>
        <button class="btn btn-secondary" onclick="clearSelection()">
            <i class="fas fa-times"></i> Clear
        </button>
    </div>
</div>

<!-- Page Header -->
<div class="page-header">
    <div>
        <h2>Product Categories</h2>
        <p class="page-subtitle">Organize your products into categories</p>
    </div>
    <div class="header-actions">
        <button class="btn btn-secondary">
            <i class="fas fa-filter"></i> Filter
        </button>
        <button class="btn btn-primary" onclick="openModal('Add New Category', getCategoryForm())">
            <i class="fas fa-plus"></i> Add Category
        </button>
    </div>
</div>

<!-- Stats Cards -->
<div class="stats-container">
    <div class="stat-card">
        <div class="stat-header">
            <div class="stat-title">Total Categories</div>
            <div class="stat-icon">
                <i class="fas fa-tags"></i>
            </div>
        </div>
        <div class="stat-value">24</div>
        <div class="stat-desc">+3 from last month</div>
        <div class="stat-trend trend-up">
            <i class="fas fa-arrow-up"></i> 12.5%
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-header">
            <div class="stat-title">Active Categories</div>
            <div class="stat-icon">
                <i class="fas fa-check-circle"></i>
            </div>
        </div>
        <div class="stat-value">18</div>
        <div class="stat-desc">Visible on website</div>
    </div>

    <div class="stat-card">
        <div class="stat-header">
            <div class="stat-title">Products</div>
            <div class="stat-icon">
                <i class="fas fa-box"></i>
            </div>
        </div>
        <div class="stat-value">1,247</div>
        <div class="stat-desc">Across all categories</div>
        <div class="stat-trend trend-up">
            <i class="fas fa-arrow-up"></i> 8.2%
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-header">
            <div class="stat-title">Avg. Products/Category</div>
            <div class="stat-icon">
                <i class="fas fa-chart-bar"></i>
            </div>
        </div>
        <div class="stat-value">52</div>
        <div class="stat-desc">Per category</div>
    </div>
</div>

<!-- Categories Table -->
<div class="data-table-container">
    <div class="table-header">
        <h2>All Categories</h2>
        <div class="table-actions">
            <button class="table-action" onclick="exportData()">
                <i class="fas fa-file-export"></i> Export All
            </button>
            <button class="table-action">
                <i class="fas fa-print"></i> Print
            </button>
            <button class="table-action">
                <i class="fas fa-sync-alt"></i> Refresh
            </button>
        </div>
    </div>

    <table class="data-table">
        <thead>
            <tr>
                <th style="width: 50px;">
                    <input type="checkbox" id="selectAll" onchange="toggleSelectAll(this)">
                </th>
                <th data-sortable="true">Category Name <i class="fas fa-sort"></i></th>
                <th data-sortable="true">Products <i class="fas fa-sort"></i></th>
                <th data-sortable="true">Status <i class="fas fa-sort"></i></th>
                <th data-sortable="true">Created <i class="fas fa-sort"></i></th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Electronics -->
            <tr class="table-row" data-item-id="1" onclick="selectRow(event, this)">
                <td>
                    <input type="checkbox" class="row-select" value="1" onchange="updateSelection(this)">
                </td>
                <td>
                    <div style="font-weight: 600; color: #2d3748;">Electronics</div>
                    <div style="font-size: 12px; color: #a0aec0;">Computers, phones, accessories</div>
                </td>
                <td>
                    <span class="badge badge-primary">324 products</span>
                </td>
                <td>
                    <span class="status-dot dot-active"></span>
                    <span>Active</span>
                </td>
                <td>Jan 15, 2024</td>
                <td onclick="event.stopPropagation()">
                    <div class="row-actions">
                        <button class="row-action view" onclick="openModal('Electronics Details', '<p>Category details here...</p>', 'sm')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="row-action edit" onclick="openModal('Edit Category', getCategoryForm({name: 'Electronics', description: 'Computers, phones, accessories', isActive: true}))">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="row-action delete" onclick="deleteItem('1', 'Electronics')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </td>
            </tr>

            <!-- Clothing -->
            <tr class="table-row" data-item-id="2" onclick="selectRow(event, this)">
                <td>
                    <input type="checkbox" class="row-select" value="2" onchange="updateSelection(this)">
                </td>
                <td>
                    <div style="font-weight: 600; color: #2d3748;">Clothing</div>
                    <div style="font-size: 12px; color: #a0aec0;">Men, women, kids clothing</div>
                </td>
                <td>
                    <span class="badge badge-primary">287 products</span>
                </td>
                <td>
                    <span class="status-dot dot-active"></span>
                    <span>Active</span>
                </td>
                <td>Feb 03, 2024</td>
                <td onclick="event.stopPropagation()">
                    <div class="row-actions">
                        <button class="row-action view" onclick="openModal('Clothing Details', '<p>Category details here...</p>', 'sm')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="row-action edit" onclick="openModal('Edit Category', getCategoryForm({name: 'Clothing', description: 'Men, women, kids clothing', isActive: true}))">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="row-action delete" onclick="deleteItem('2', 'Clothing')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </td>
            </tr>

            <!-- Home & Garden -->
            <tr class="table-row" data-item-id="3" onclick="selectRow(event, this)">
                <td>
                    <input type="checkbox" class="row-select" value="3" onchange="updateSelection(this)">
                </td>
                <td>
                    <div style="font-weight: 600; color: #2d3748;">Home & Garden</div>
                    <div style="font-size: 12px; color: #a0aec0;">Furniture, decor, gardening</div>
                </td>
                <td>
                    <span class="badge badge-primary">189 products</span>
                </td>
                <td>
                    <span class="status-dot dot-active"></span>
                    <span>Active</span>
                </td>
                <td>Mar 10, 2024</td>
                <td onclick="event.stopPropagation()">
                    <div class="row-actions">
                        <button class="row-action view" onclick="openModal('Home & Garden Details', '<p>Category details here...</p>', 'sm')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="row-action edit" onclick="openModal('Edit Category', getCategoryForm({name: 'Home & Garden', description: 'Furniture, decor, gardening', isActive: true}))">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="row-action delete" onclick="deleteItem('3', 'Home & Garden')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </td>
            </tr>

            <!-- Tools & Hardware -->
            <tr class="table-row" data-item-id="4" onclick="selectRow(event, this)">
                <td>
                    <input type="checkbox" class="row-select" value="4" onchange="updateSelection(this)">
                </td>
                <td>
                    <div style="font-weight: 600; color: #2d3748;">Tools & Hardware</div>
                    <div style="font-size: 12px; color: #a0aec0;">Power tools, hand tools, hardware</div>
                </td>
                <td>
                    <span class="badge badge-primary">156 products</span>
                </td>
                <td>
                    <span class="status-dot dot-active"></span>
                    <span>Active</span>
                </td>
                <td>Apr 22, 2024</td>
                <td onclick="event.stopPropagation()">
                    <div class="row-actions">
                        <button class="row-action view" onclick="openModal('Tools & Hardware Details', '<p>Category details here...</p>', 'sm')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="row-action edit" onclick="openModal('Edit Category', getCategoryForm({name: 'Tools & Hardware', description: 'Power tools, hand tools, hardware', isActive: true}))">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="row-action delete" onclick="deleteItem('4', 'Tools & Hardware')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </td>
            </tr>

            <!-- Sports & Outdoors -->
            <tr class="table-row" data-item-id="5" onclick="selectRow(event, this)">
                <td>
                    <input type="checkbox" class="row-select" value="5" onchange="updateSelection(this)">
                </td>
                <td>
                    <div style="font-weight: 600; color: #2d3748;">Sports & Outdoors</div>
                    <div style="font-size: 12px; color: #a0aec0;">Equipment, apparel, accessories</div>
                </td>
                <td>
                    <span class="badge badge-warning">45 products</span>
                </td>
                <td>
                    <span class="status-dot dot-inactive"></span>
                    <span>Inactive</span>
                </td>
                <td>May 05, 2024</td>
                <td onclick="event.stopPropagation()">
                    <div class="row-actions">
                        <button class="row-action view" onclick="openModal('Sports & Outdoors Details', '<p>Category details here...</p>', 'sm')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="row-action edit" onclick="openModal('Edit Category', getCategoryForm({name: 'Sports & Outdoors', description: 'Equipment, apparel, accessories', isActive: false}))">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="row-action delete" onclick="deleteItem('5', 'Sports & Outdoors')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Pagination -->
    <div class="pagination">
        <div class="page-item disabled">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div class="page-item active">1</div>
        <div class="page-item">2</div>
        <div class="page-item">3</div>
        <div class="page-item">4</div>
        <div class="page-item">5</div>
        <div class="page-item">
            <i class="fas fa-chevron-right"></i>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Initialize category-specific functionality
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Categories page loaded');
        });
    </script>
}